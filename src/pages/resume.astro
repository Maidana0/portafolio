---
// src/pages/resume.astro
import Layout from "../layouts/Layout.astro";
import Header from "../components/resume/Header.astro";
import Section from "../components/resume/Section.astro";
import EducationItem from "../components/resume/EducationItem.astro";
import ExperienceItem from "../components/resume/ExperienceItem.astro";
import Pill from "../components/resume/Pill.astro";

// --- Resume Data ---
const personalInfo = {
  name: "Franco Gabriel Maidana",
  role: "Desarrollador Full Stack",
  location: "La Matanza, Buenos Aires, Argentina",
  email: "franco_maidana07@hotmail.com",
  github: "#",
  linkedin: "#",
  phone: "(+54) 9 11 2480-4777",
};

const professionalProfile =
  "Estudiante de la Tecnicatura en Desarrollo Web (UNLaM). Experiencia en proyectos académicos, colaborativos y personales utilizando Next.js, React, TypeScript, Node.js, Express, Prisma/Sequelize y TailwindCSS. Participe en equipos multidisciplinares bajo metodología SCRUM, aportando en el diseño, desarrollo y documentación de aplicaciones web. Busco incorporarme a un equipo que permita seguir creciendo profesionalmente y aportar mis conocimientos en el desarrollo de software integral.";

const education = [
  {
    degree: "Tecnicatura En Web",
    institution: "Universidad Nacional De La Matanza",
    date: "2024 - Presente",
    details: "Cantidad de materias aprobadas: 7/25",
  },
  {
    degree: "Desarrollador Web Full Stack",
    institution: "Coderhouse",
    date: "2022 - 2024",
    details: "Desarrollo Web, JavaScript, React. Backend con JavaScript y TypeScript (Node.js / Express). Python / Django.",
  },
  {
    degree: "Bachiller En Economía Y Administración",
    institution: "Inst. Santa Teresa De J.",
    date: "2013 - 2018",
  },
];

// Refactored descriptions to use arrays for proper list formatting
const experience = [
  {
    role: "Cotzia: Gestión de materia prima y costos",
    company: "Organización Simulada - Foo Talent Group",
    date: "2025",
    description: ["Gestión de materia prima y costos de laboratorio. (Next.js 15, TypeScript, Tailwind, Shadcn, Zustand, RHF)"],
  },
  {
    role: "Proyectos Colaborativos",
    company: "Organización Simulada – No Country",
    date: "2024",
    description: [
      "<strong>PopcornPass:</strong> Plataforma de venta de entradas de cine. (Next.js, TypeScript, Zustand, RHF, Material UI, Figma)",
      "<strong>CashFly:</strong> App de préstamos e inversiones. (Vite, CSS, Figma)",
      "<strong>GoEvent:</strong> API de gestión de eventos. (Node.js, Express, Sequelize, middlewares)",
      "<strong>AdoPet:</strong> App para adopción de mascotas. (Next.js, TS, Tailwind)",
    ],
  },
  {
    role: "MaidaVision (Proyecto Personal)",
    company: "En progreso",
    date: "Actual",
    description: ["App para gestión de películas/series con APIs externas (TheMovieDB, YouTube). Autenticación con NextAuth (Google/GitHub) y base de datos con Prisma + SQLite. Validaciones con Zod + RHF, manejo de estados globales con Zustand. Interfaz desarrollada en Tailwind + Shadcn."],
  },
];

const skills: Record<string, { name: string; icon: string }[]> = {
  Frontend: [
    { name: "Next.js", icon: "nextjs" }, { name: "React", icon: "react" },
    { name: "Vite", icon: "vite" }, { name: "TailwindCSS", icon: "tailwind" },
    { name: "Shadcn/UI", icon: "shadcn" }, { name: "Material UI", icon: "material-ui" },
  ],
  Backend: [
    { name: "Node.js", icon: "nodejs" }, { name: "Express", icon: "express" },
    { name: "NestJS (básico)", icon: "nestjs" },
  ],
  "Bases de Datos": [
    { name: "SQL", icon: "sql" }, { name: "SQLite", icon: "sqlite" },
    { name: "Sequelize", icon: "sequelize" }, { name: "Prisma", icon: "prisma" },
    { name: "MongoDB", icon: "mongodb" },
  ],
  Diseño: [
    { name: "Figma", icon: "figma" }, { name: "Styled Components", icon: "styled-components" },
    { name: "Sass", icon: "sass" },
  ],
  Metodologías: [
    { name: "SCRUM", icon: "scrum" }, { name: "MVC", icon: "mvc" },
  ],
  Herramientas: [
    { name: "Git/GitHub", icon: "git" }, { name: "Postman", icon: "postman" },
    { name: "ThunderClient", icon: "thunderclient" },
  ],
};

const softSkills = [
  "Trabajo en equipo en entornos ágiles",
  "Documentación clara y seguimiento de tareas",
  "Adaptación rápida a nuevas tecnologías",
  "Orientación a buenas prácticas de código",
];
---

<Layout>
  <div class="p-6 max-w-4xl mx-auto space-y-8">
    <Header {...personalInfo} />

    <Section title="Perfil Profesional" icon="user">
      <p class="text-sm text-muted-foreground">{professionalProfile}</p>
    </Section>

    <Section title="Experiencia en Equipo y Proyectos Relevantes" icon="briefcase">
      {experience.map(item => (
        <ExperienceItem role={item.role} company={item.company} date={item.date}>
          <ul class="list-disc list-inside space-y-1">
            {item.description.map(point => (
              <li set:html={point} />
            ))}
          </ul>
        </ExperienceItem>
      ))}
    </Section>

    <Section title="Educación" icon="graduation">
      {education.map(item => <EducationItem {...item} />)}
    </Section>

    <Section title="Habilidades Técnicas" icon="code">
      {Object.entries(skills).map(([category, skillList]) => (
        <div>
          <h4 class="font-medium text-sm mb-2">{category}</h4>
          <div class="flex flex-wrap gap-2">
            {skillList.map(skill => <Pill icon={skill.icon}>{skill.name}</Pill>)}
          </div>
        </div>
      ))}
    </Section>

    <Section title="Competencias Blandas" icon="users">
      <ul class="list-disc list-inside text-sm text-muted-foreground space-y-1">
        {softSkills.map(skill => <li>{skill}</li>)}
      </ul>
    </Section>
  </div>
</Layout>